<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jia Wen Cheng">
<meta name="description" content="Dicusses the project management failures of the Harvest City Convention Centre Complex project.">

<title>Harvest City: The Intelligent Procurement System Project ‚Äì Jia Wen Cheng</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/logo1.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-2253376e7ef74b4c469abd526837ec6c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Jia Wen Cheng</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-about-me" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">ABOUT ME</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-about-me">    
        <li>
    <a class="dropdown-item" href="../../resume.html">
 <span class="dropdown-text">CV</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../edu_intern.html">
 <span class="dropdown-text">Education &amp; Internship</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../moreaboutme.html">
 <span class="dropdown-text">More About Me</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../skills.html"> 
<span class="menu-text">SKILLS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects/index.html"> 
<span class="menu-text">PROJECTS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources/index.html"> 
<span class="menu-text">RESOURCES</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/jia-wen-cheng-2bba39265/" target="_blank"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jiawenc13" target="_blank"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:jia.cheng5@mail.dcu.ie"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../assets/resume.pdf" target="_blank"> <i class="bi bi-file-earmark-text" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Harvest City: The Intelligent Procurement System Project</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Business</div>
    <div class="quarto-category">Project Management</div>
    <div class="quarto-category">Operations Management</div>
  </div>
  </div>

<div>
  <div class="description">
    Dicusses the project management failures of the Harvest City Convention Centre Complex project.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jia Wen Cheng </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p><a href="../../assets/project1.pdf" target="_blank">üìÑ PDF</a></p>
<hr>
<section id="executive-summary" class="level3">
<h3 class="anchored" data-anchor-id="executive-summary">Executive Summary</h3>
<br>
<p>
This report investigates the case study ‚ÄúHarvest City: The Intelligent Procurement System Project‚Äù by Applegate and Montealegre (2018), which aimed to integrate Internet of Things (IoT), sensors and cloud-based infrastructural technologies into the state-of-art management system in the most modern Harvest City in the midwestern U.S. Despite the innovative and ambitious vision, the project was a failure in achieving its ultimate objectives due to a series of issues in its management, strategic planning and vision alignment. The first half of the report identifies the key factors based on the case study, contributing to the project failure, and critically examines three core issues:
</p>
<ol type="1">
<li><p>Late integration of procurement system and misalignment with the construction schedule.</p></li>
<li><p>Unexpected change in leadership and absence of strong governance.</p></li>
<li><p>Uncontrolled scope creep and lack of formal change management process.</p></li>
</ol>
<p>
These issues have ultimately led to delays of the grand opening, reputational damage due to safety incidents, and significant financial waste. The second half of the report proposes targeted recommendations to each of the core issues. These include the adoption of centralised management and formal review process, to utilising planning and analysis tools like the Work Breakdown Structure (WBS), Gantt Chart, Power-Interest Matrix to effectively mitigate conflicts and control risks.
</p>
</section>
<section id="introduction" class="level3">
<h3 class="anchored" data-anchor-id="introduction">Introduction</h3>
<p>
The Harvest City Intelligent Procurement System project was a large-scale technology initiative designed to automate and optimise the procurement of goods and services across the Harvest City Convention Centre Complex. The system plans to integrate Internet of Things (IoT), sensors, cloud-based infrastructure and real-time analytics to manage both direct and indirect items‚Äô procurement (Applegate and Montealegre, 2018). This system was set out to improve efficiencies and reduce cost in managing the operations across all tenants. However, this project was a failure. Due to many internal and external factors, it resulted in delays, loss of finance and damage to Harvest City‚Äôs reputation. In this report, I will identify the key factors contributing to the project‚Äôs failure and critically examine three main factors. Furthermore, I will propose recommendations referencing project management principles, which could have mitigated these issues and improved the project‚Äôs chance of success.
</p>
</section>
<section id="key-factors-contributing-to-project-failure" class="level3">
<h3 class="anchored" data-anchor-id="key-factors-contributing-to-project-failure">Key Factors Contributing to Project Failure:</h3>
<p><br></p>
<ol type="1">
<li><p>Late integration and misalignment with construction schedule: Venso was brought into the project after construction had already begun, meaning that a lot of the completed or in-progress interior space had to be demolished for alternation required to incorporate Venso‚Äôs procurement system.</p></li>
<li><p>Leadership changes &amp; weak governance: Leadership responsibilities were later on dispersed across executive team members without a clear handover, instead of appointing a new leader. As the team is already overwhelmed with other aspects of the project, it caused unconsidered decision-making and poor coordination.</p></li>
<li><p>Lack of stakeholder alignment and communication: Miscommunication about the system requirements and approvals have caused significant interruptions to the installed system.</p></li>
<li><p>Scope creep and poor change management: Stakeholders constantly requested for changes to the system, even after the contract clearly stated that no changes would be permitted beyond specific deadlines. The contractual agreements were treated as flexible guidelines instead of binding commitments by the stakeholders.</p></li>
<li><p>Inadequate project oversight: The new executive team failed to recognise the critical role of the procurement system and treated it as a conventional infrastructure project instead of a complex and integrated technology project.</p></li>
</ol>
<p>Now, the report will delve into three core factors. <br><br></p>
<ol type="1">
<li><strong>Late Integration and Schedule Misalignment</strong></li>
</ol>
<p>One of the core issues contributed to Harvest City Intelligent Procurement System‚Äôs failure is the late integration of the system from the very beginning. Prior to the signing of the contract, Miller, the CEO of Venso, has clearly expressed that their intelligent procurement system could not be successfully integrated midway through a construction project, due to its technical complexity and the requirement for embedded infrastructure to support the IoT, sensors and other key components. However, despite the warnings, the contract still proceeded following the persuasion from Casper. This has resulted in multiple interior spaces in the complex to be demolished and rebuilt in order to incorporate the alterations, which caused a waste of both financial and physical resources. Furthermore, due to the scheduled completion of the project being a few weeks before the centre‚Äôs grand opening, it has given the centre no time to trial run and spot any errors beforehand, causing the huge incident of the event day. <br><br></p>
<ol start="2" type="1">
<li><strong>Leadership Changes and Weak Governance</strong></li>
</ol>
<p>Another key factor contributed to the project‚Äôs failure was the ineffective response towards unforeseen leadership change. After John Casper, the CEO of Harvest City Corporation resigned from his position due to illness, instead of hiring and appointing a new leader with the relevant expertise, the responsibilities were dispersed across the rest of the executive team, who are already overwhelmed with other duties. The team not only lacked technical expertise, but also failed to dedicate sufficient time and effort to fully understand the contract and the project‚Äôs scope. Furthermore, there was a clear lack of shared vision, as the executive team saw the project as a conventional infrastructure project instead of a core complex and integrated technology project that requires specialised support. This has equipped them with no capability to make optimal and effective decisions. As a result, critical issues raised by Venso were either delayed or ignored completely, which significantly affected the project‚Äôs ability to address challenges and to remain aligned with the original plans and vision. <br><br></p>
<ol start="3" type="1">
<li><strong>Scope Creep and Poor Change Management</strong></li>
</ol>
<p>The third key factor that contributed to this project‚Äôs failure was the emergence of scope creep and the lack of effective change management. Despite the system design being finalised and the signed contract clearly stating that no further changes would be permitted after specific deadlines, many tenants and internal stakeholders continued to request for modifications. For example, the operating team requested a change which required demolition and reconstruction to the space. The catering vendor requested changes that required extra financial input. These change requests disrupted the original project plan and workflow, requiring additional actions that extended beyond the planned schedule. Since the original completion date was already close to the grand opening, time flexibility for incorporating changes were extremely limited. Moreover, complaints that were made at executive levels were all ignored meaning that implementations on change requests had to proceed, even without a formal review process and assessment carried out. As a result, these changes led to misalignment to the original deadline and compromised the system‚Äôs integrity. <br><br></p>
</section>
<section id="recommendations" class="level3">
<h3 class="anchored" data-anchor-id="recommendations">Recommendations</h3>
<p><br></p>
<ol type="1">
<li><strong>Improving Project Planning and Integration Through Centralised Management, WBS and Gantt Chart</strong></li>
</ol>
<p>To address the issue of late integration and schedule misalignment, the Harvest City Intelligent Procurement System project should establish a centralised project management structure at the early phase of the project lifecycle. This means that all project management functions such as project planning, stakeholder management are managed by one central point (Jong and Faerman, 2020). This ensures that all activities and decisions carried out are coordinated and aligned with the overall goals and objectives of the projects. The central point is often the Project Management Office, which oversees planning, execution and governance across the project (Ichsan et al., 2023). Furthermore, by utilising tools like the Work Breakdown Structure (WBS), which breaks down large complex projects into manageable tasks (Slack, Brandon-Jones and Johnston, 2013), it enables the Harvest City team to better recognise the Intelligent Procurement System as the core deliverable. It would also provide a clear illustration that the infrastructure, timelines and resources need to be planned around the system‚Äôs requirements, instead of forcing the system to fit into an already established construction framework. Lastly, a Gantt Chart could have been developed during the early stage to provide a clear visual overview of the key project timelines, helping the team to better monitor their progress and efficiency (Slack, Brandon-Jones and Johnston, 2013). <br><br></p>
<ol start="2" type="1">
<li><strong>Strengthening Project Leadership and Governance Through Stakeholder Engagement and Communication</strong></li>
</ol>
<p>To address the issue of weak governance after the resignation of Casper, the CEO, the Harvest City Corporation should have appointed a dedicated project director (or establish PMO) with equivalent experience and similar expertise, rather than dispersing responsibilities across the executive team, in which many may lack the relevant expertise needed. This ensures continuity and consistent oversight of the project (Nixon, Harrington and Parker, 2012). Furthermore, the project director or PMO, in collaboration with Venso, could have conducted a Power-Interest Matrix to categorise stakeholders based on their level of power and interest in the project (Zhu et al., 2024). This insight would have helped the team to identify key stakeholder dependencies (Zhu et al., 2024), therefore prioritising communications, successfully managing expectations and making strategic decisions regarding stakeholder involvement. To reinforce this structure, a formal communication channel should be established to ensure that all relevant information is shared with the appropriate stakeholders in a timely and efficient manner (Galli, 2022). <br><br></p>
<ol start="3" type="1">
<li><strong>Managing Change and Scope Control Through Early Stakeholder</strong></li>
</ol>
<p>Engagement and Formal Review Process To prevent the emergence of unforeseen changes, all stakeholders should have been brought in during the early planning stage, before the system and construction design finalises. Early involvement of stakeholders would have reduced the likelihood of change requests arising in the middle of the projects, as stakeholder would have had a clearer understanding of the importance of this procurement system and that it could not be easily changed after the finalisation of the system design (Prebaniƒá and Vukomanoviƒá, 2023). This would have encouraged the stakeholders like tenants and catering vendors to express their needs and requirements from the outset, allowing the project team to have sufficient time to incorporate their needs into the plan. Furthermore, the project team should have implemented a Change Control Management System. This is a structured process involving: Identifying proposed changes, evaluating their impact on the project scope, approving or rejecting the proposal, implementing approved changes and finally, monitoring the results (Team, 2024). With the implementation of this formal process, changes can be critically assessed before deciding whether they are necessary and feasible to implement. To support this, Harvest City and the project team should have established a Change Control Board (CCB) responsible for the carrying out of the process (Irfan et al., 2023). Conclusion In conclusion, the Harvest City Intelligent Procurement System Project demonstrates the importance of strategic and effective project management in large-scale technology and innovation-driven initiatives. The core issues of this case lies around its poor communication among stakeholders, ineffective control and coordinations, and weak leadership. This case also highlights the importance of stakeholder alignment and illustrates how decisions made in the early stage can escalate into larger issues that significantly impact the late phase of the project. With sufficient strategic planning and risk assessment carried out, it can reduce the likelihood of the</p>
</section>
<section id="conclusion" class="level3">
<h3 class="anchored" data-anchor-id="conclusion">Conclusion</h3>
<p><br> In conclusion, the Harvest City Intelligent Procurement System Project demonstrates the importance of strategic and effective project management in large-scale technology and innovation-driven initiatives. The core issues of this case lies around its poor communication among stakeholders, ineffective control and coordinations, and weak leadership. This case also highlights the importance of stakeholder alignment and illustrates how decisions made in the early stage can escalate into larger issues that significantly impact the late phase of the project. With sufficient strategic planning and risk assessment carried out, it can reduce the likelihood of the emergence of unexpected changes that may lead to project delays.</p>
<p><br><br></p>
<hr>
</section>
<section id="bibliography-harvard-12th-ed." class="level3">
<h3 class="anchored" data-anchor-id="bibliography-harvard-12th-ed.">Bibliography (Harvard 12th Ed.)</h3>
<p>Applegate, L.M. and Montealegre, R., 2018. Harvest City: The Intelligent Procurement System Project. Harvard Business School Case 918-507. Boston, MA: Harvard Business School Publishing (Accessed: 14 April 2025). Slack, N., Brandon-Jones, A. and Johnston, R. (2013) Operations Management (7th edition). Pearson.</p>
<p>Jong, J. and Faerman, S.R. (2020) ‚ÄòCentralization and Decentralization: Balancing Organizational and Employee Expectations‚Äô, in A. Farazmand (ed.) Global Encyclopedia of Public Administration, Public Policy, and Governance. Cham: Springer International Publishing, pp.&nbsp;1‚Äì6. Available at: <a href="https://doi.org/10.1007/978-3-319-31816-5_4179-1" class="uri">https://doi.org/10.1007/978-3-319-31816-5_4179-1</a>.</p>
<p>Ichsan, M. et al.&nbsp;(2023) ‚ÄòThe role of project management office (PMO) manager: A qualitative case study in Indonesia‚Äô, Cogent Business &amp; Management, 10(2), p. 2210359. Available at: <a href="https://doi.org/10.1080/23311975.2023.2210359" class="uri">https://doi.org/10.1080/23311975.2023.2210359</a>.</p>
<p>Zhu, Q. et al.&nbsp;(2024) ‚ÄòStakeholder Mapping and Analysis of Off-Site Construction Projects: Utilizing a Power‚ÄìInterest Matrix and the Fuzzy Logic Theory‚Äô, Buildings, 14(9), p.&nbsp;2865. Available at: <a href="https://doi.org/10.3390/buildings14092865" class="uri">https://doi.org/10.3390/buildings14092865</a>.</p>
<p>Galli, B.J. (2022) ‚ÄòThe Role of Communication in Project Planning and Executing‚Äô, International Journal of Applied Management Sciences and Engineering (IJAMSE), 9(1), pp.&nbsp;1‚Äì20. Available at: <a href="https://doi.org/10.4018/IJAMSE.302902" class="uri">https://doi.org/10.4018/IJAMSE.302902</a>.</p>
<p>Irfan, S. et al.&nbsp;(2023) ‚ÄòExpediting Time to Market: Evaluating the Effects of Change Control Board Performance in Emerging Markets‚Äô, Sustainability, 15(22), p.&nbsp;16085. Available at: <a href="https://doi.org/10.3390/su152216085" class="uri">https://doi.org/10.3390/su152216085</a>.</p>
<p>Team, E. (2024) Change Control in Project Management. How Does it Work, SixSigma.us. Available at: <a href="https://www.6sigma.us/project-management/change-control-in-project-management/" class="uri">https://www.6sigma.us/project-management/change-control-in-project-management/</a> (Accessed: 16 April 2025).</p>
<p>Nixon, P., Harrington, M. and Parker, D. (2012) ‚ÄòLeadership performance is significant to project success or failure: a critical analysis‚Äô, International Journal of Productivity and Performance Management, 61(2), pp.&nbsp;204‚Äì216. Available at: <a href="https://doi.org/10.1108/17410401211194699" class="uri">https://doi.org/10.1108/17410401211194699</a>.</p>
<p>Prebaniƒá, K.R. and Vukomanoviƒá, M. (2023) ‚ÄòExploring Stakeholder Engagement Process as the Success Factor for Infrastructure Projects‚Äô, Buildings, 13(7), p.&nbsp;1785. Available at: <a href="https://doi.org/10.3390/buildings13071785" class="uri">https://doi.org/10.3390/buildings13071785</a>.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>¬© Jia Wen Cheng 2025</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>